<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='åœ¨ä¸Šä¸€ç¯‡åšå®¢çš„åŸºç¡€ä¸Šï¼Œç»“åˆæ‰‹åŠ¿è¯†åˆ«å’Œå®éªŒå®¤çš„unitreeA1æœºå™¨ç‹—åšäº†ä¸€ä¸ªæœºå™¨ç‹—çš„æ‰‹åŠ¿æ§åˆ¶,å¯ä»¥å®ç°æ‰‹åŠ¿æ§åˆ¶æœºå™¨ç‹—çš„å‰åå·¦å³å¹³åŠ¨ã€‚
å‰æœŸå‡†å¤‡ 1ã€éœ€è¦å¯¹ROSçš„è¯é¢˜é€šä¿¡æœºåˆ¶åŠå…¶ç¯å¢ƒé…ç½®æœ‰ä¸€å®šäº†è§£ã€‚ 2ã€å»ºè®®å…ˆåœ¨Windowsä¸Šè·‘é€šä¸Šä¸€ç¯‡åšå®¢çš„æ‰‹åŠ¿è¯†åˆ«æ¨¡å‹å†æ¥è¿›è¡Œæœºå™¨ç‹—çš„æ‰‹åŠ¿æ§åˆ¶ã€‚ 3ã€å®‡æ ‘A1æœºå™¨ç‹—ï¼ŒGO1ä»¥åŠå…¶ä»–æœºå™¨ç‹—çš„é…ç½®åŒç†ã€‚ 4ã€æœºå™¨ç‹—å†…ç½®ç”µè„‘ä¸Šçš„ç¯å¢ƒé…ç½®ï¼š â‘ Pythonç‰ˆæœ¬åº”ä¸º3.8ï¼ˆå¿…è¦æ¡ä»¶ï¼‰ â‘¡è§†è§‰è¯†åˆ«ä¾èµ–åŒ…ï¼šOpencv,Mediapipe,; â‘¢Unitreeå®˜æ–¹å‘å¸ƒçš„ROS_to_RealåŒ…ï¼Œç‰ˆæœ¬é€‰æ‹©æœ€æ—©å‘å¸ƒçš„ç‰ˆæœ¬ï¼ˆæˆ–unitreeåç»­å‘å¸ƒçš„æ”¯æŒA1æœºå™¨ç‹—çš„ç‰ˆæœ¬ï¼‰ã€‚ â‘£ROSå¼€å‘ç¯å¢ƒå»ºè®®ç”¨VScodeã€‚ â‘¤åœ¨Windowsä¸‹è½½VncViewerä»¥è¿›è¡Œè¿œç¨‹æ¡Œé¢è¿æ¥ï¼Œé˜²æ­¢è°ƒè¯•è¿åŠ¨ç¨‹åºè¿‡ç¨‹ä¸­æŸåæœºå™¨ç‹—ã€‚ â‘¥ç”±äºROS Melodicæ‰€ç”¨ä¸ºPython2ï¼Œä½†Mediapipeå’ŒOpencvæ”¯æŒçš„ç‰ˆæœ¬ä¸ºPython3.8ï¼Œå› æ­¤éœ€è¦è¿›è¡Œè™šæ‹Ÿç¯å¢ƒé…ç½®ï¼Œä¸‹æ–‡ä¼šè¯¦ç»†å±•å¼€ã€‚
ç¯å¢ƒé…ç½®æ•™ç¨‹ 2.1 ROS_to_RealåŒ…ä»¥åŠSDKçš„ç¼–è¯‘å®‰è£… è¿™ä¸€éƒ¨åˆ†éœ€è¦å…ˆè®¤çœŸé˜…è¯»å®˜æ–¹çš„Readmeæ–‡æ¡£ï¼Œç¡®è®¤å„ç§ä¾èµ–ä»¥åŠç‰ˆæœ¬éƒ½æ˜¯æ­£ç¡®çš„ã€‚ å®˜æ–¹ç½‘å€ï¼šunitreerobotics/unitree_ros_to_real (github.com) é¦–å…ˆè¿›å…¥ä¸»æ–‡ä»¶å¤¹ï¼Œè¾“å…¥ ï¼š
git clone https://github.com/unitreerobotics/unitree_legged_sdk.git //ä¹Ÿå¯ä»¥é‡‡ç”¨é•œåƒæº // git clone https://github.com.cnpmjs.org/unitreerobotics/unitree_legged_sdk.git //ä¹Ÿå¯ä»¥ç›´æ¥ç”¨è‡ªå·±çš„ç”µè„‘åˆ°å®˜ç½‘ä¸‹è½½ï¼Œç„¶åå†ç”¨Uç›˜æ‹·è´åˆ°æœºå™¨ç‹—ä¸Šå³å¯ï¼Œè®°å¾—å…ˆçœ‹Readmeé‡Œæ”¯æŒçš„ç‰ˆæœ¬ã€‚ è¾“å…¥cd unitree_legged_sdk/è¿›å…¥æ–‡ä»¶å¤¹ ç„¶åæŒ‰ç…§readmeé‡Œçš„æ­¥éª¤ï¼Œåœ¨ç»ˆç«¯ä¾æ¬¡è¾“å…¥
mkdir build cd build cmake ../ make æ¥ç€åˆ›å»ºå·¥ä½œç©ºé—´ï¼Œå®‰è£…å®‡æ ‘çš„åŠŸèƒ½åŒ…
mkdir unitree cd unitree mkdir src cd src git clone https://github.com.cnpmjs.org/unitreerobotics/unitree_ros.git //åŒæ ·å¯ä»¥åˆ°è‡ªå·±ç”µè„‘ä¸Šä¸‹è½½å®Œæ‹·è´ æ¥ä¸‹æ¥æŒ‰ç…§æ–‡æ¡£é‡Œè¯´çš„ï¼Œæ‰“å¼€ä¸»æ–‡ä»¶å¤¹é‡Œçš„.bashrcæ–‡ä»¶ï¼Œ åœ¨ä¸»æ–‡ä»¶å¤¹æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š
gedit .bashrc åœ¨æ–‡æ¡£æœ«å°¾æ·»åŠ 
source /opt/ros/melodic/setup.bash source /usr/share/gazebo-8/setup.sh//å¦‚æœæŠ¥é”™çš„è¯ï¼Œå¯ä»¥åˆ æ‰è¿™ä¸€è¡Œ source ~/catkin_ws/devel/setup.bash export ROS_PACKAGE_PATH=~/catkin_ws:${ROS_PACKAGE_PATH} export GAZEBO_PLUGIN_PATH=~/catkin_ws/devel/lib:${GAZEBO_PLUGIN_PATH} export LD_LIBRARY_PATH=~/catkin_ws/devel/lib:${LD_LIBRARY_PATH} #3_1, 3_2 export UNITREE_SDK_VERSION=3_2//çœ‹æ˜¯SDKçš„ç‰ˆæœ¬æ˜¯3_1è¿˜æ˜¯3_2.'><title>å®‡æ ‘æœºå™¨ç‹—æ‰‹åŠ¿æ§åˆ¶</title>

<link rel='canonical' href='https://SZTU-ZBK.github.io/post/blog/'>

<link rel="stylesheet" href="/scss/style.min.5a8e892f6fa14515e9065eee1f5d2e05302606ec7f11750b2fb95198f9cdcbfd.css"><meta property='og:title' content='å®‡æ ‘æœºå™¨ç‹—æ‰‹åŠ¿æ§åˆ¶'>
<meta property='og:description' content='åœ¨ä¸Šä¸€ç¯‡åšå®¢çš„åŸºç¡€ä¸Šï¼Œç»“åˆæ‰‹åŠ¿è¯†åˆ«å’Œå®éªŒå®¤çš„unitreeA1æœºå™¨ç‹—åšäº†ä¸€ä¸ªæœºå™¨ç‹—çš„æ‰‹åŠ¿æ§åˆ¶,å¯ä»¥å®ç°æ‰‹åŠ¿æ§åˆ¶æœºå™¨ç‹—çš„å‰åå·¦å³å¹³åŠ¨ã€‚
å‰æœŸå‡†å¤‡ 1ã€éœ€è¦å¯¹ROSçš„è¯é¢˜é€šä¿¡æœºåˆ¶åŠå…¶ç¯å¢ƒé…ç½®æœ‰ä¸€å®šäº†è§£ã€‚ 2ã€å»ºè®®å…ˆåœ¨Windowsä¸Šè·‘é€šä¸Šä¸€ç¯‡åšå®¢çš„æ‰‹åŠ¿è¯†åˆ«æ¨¡å‹å†æ¥è¿›è¡Œæœºå™¨ç‹—çš„æ‰‹åŠ¿æ§åˆ¶ã€‚ 3ã€å®‡æ ‘A1æœºå™¨ç‹—ï¼ŒGO1ä»¥åŠå…¶ä»–æœºå™¨ç‹—çš„é…ç½®åŒç†ã€‚ 4ã€æœºå™¨ç‹—å†…ç½®ç”µè„‘ä¸Šçš„ç¯å¢ƒé…ç½®ï¼š â‘ Pythonç‰ˆæœ¬åº”ä¸º3.8ï¼ˆå¿…è¦æ¡ä»¶ï¼‰ â‘¡è§†è§‰è¯†åˆ«ä¾èµ–åŒ…ï¼šOpencv,Mediapipe,; â‘¢Unitreeå®˜æ–¹å‘å¸ƒçš„ROS_to_RealåŒ…ï¼Œç‰ˆæœ¬é€‰æ‹©æœ€æ—©å‘å¸ƒçš„ç‰ˆæœ¬ï¼ˆæˆ–unitreeåç»­å‘å¸ƒçš„æ”¯æŒA1æœºå™¨ç‹—çš„ç‰ˆæœ¬ï¼‰ã€‚ â‘£ROSå¼€å‘ç¯å¢ƒå»ºè®®ç”¨VScodeã€‚ â‘¤åœ¨Windowsä¸‹è½½VncViewerä»¥è¿›è¡Œè¿œç¨‹æ¡Œé¢è¿æ¥ï¼Œé˜²æ­¢è°ƒè¯•è¿åŠ¨ç¨‹åºè¿‡ç¨‹ä¸­æŸåæœºå™¨ç‹—ã€‚ â‘¥ç”±äºROS Melodicæ‰€ç”¨ä¸ºPython2ï¼Œä½†Mediapipeå’ŒOpencvæ”¯æŒçš„ç‰ˆæœ¬ä¸ºPython3.8ï¼Œå› æ­¤éœ€è¦è¿›è¡Œè™šæ‹Ÿç¯å¢ƒé…ç½®ï¼Œä¸‹æ–‡ä¼šè¯¦ç»†å±•å¼€ã€‚
ç¯å¢ƒé…ç½®æ•™ç¨‹ 2.1 ROS_to_RealåŒ…ä»¥åŠSDKçš„ç¼–è¯‘å®‰è£… è¿™ä¸€éƒ¨åˆ†éœ€è¦å…ˆè®¤çœŸé˜…è¯»å®˜æ–¹çš„Readmeæ–‡æ¡£ï¼Œç¡®è®¤å„ç§ä¾èµ–ä»¥åŠç‰ˆæœ¬éƒ½æ˜¯æ­£ç¡®çš„ã€‚ å®˜æ–¹ç½‘å€ï¼šunitreerobotics/unitree_ros_to_real (github.com) é¦–å…ˆè¿›å…¥ä¸»æ–‡ä»¶å¤¹ï¼Œè¾“å…¥ ï¼š
git clone https://github.com/unitreerobotics/unitree_legged_sdk.git //ä¹Ÿå¯ä»¥é‡‡ç”¨é•œåƒæº // git clone https://github.com.cnpmjs.org/unitreerobotics/unitree_legged_sdk.git //ä¹Ÿå¯ä»¥ç›´æ¥ç”¨è‡ªå·±çš„ç”µè„‘åˆ°å®˜ç½‘ä¸‹è½½ï¼Œç„¶åå†ç”¨Uç›˜æ‹·è´åˆ°æœºå™¨ç‹—ä¸Šå³å¯ï¼Œè®°å¾—å…ˆçœ‹Readmeé‡Œæ”¯æŒçš„ç‰ˆæœ¬ã€‚ è¾“å…¥cd unitree_legged_sdk/è¿›å…¥æ–‡ä»¶å¤¹ ç„¶åæŒ‰ç…§readmeé‡Œçš„æ­¥éª¤ï¼Œåœ¨ç»ˆç«¯ä¾æ¬¡è¾“å…¥
mkdir build cd build cmake ../ make æ¥ç€åˆ›å»ºå·¥ä½œç©ºé—´ï¼Œå®‰è£…å®‡æ ‘çš„åŠŸèƒ½åŒ…
mkdir unitree cd unitree mkdir src cd src git clone https://github.com.cnpmjs.org/unitreerobotics/unitree_ros.git //åŒæ ·å¯ä»¥åˆ°è‡ªå·±ç”µè„‘ä¸Šä¸‹è½½å®Œæ‹·è´ æ¥ä¸‹æ¥æŒ‰ç…§æ–‡æ¡£é‡Œè¯´çš„ï¼Œæ‰“å¼€ä¸»æ–‡ä»¶å¤¹é‡Œçš„.bashrcæ–‡ä»¶ï¼Œ åœ¨ä¸»æ–‡ä»¶å¤¹æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š
gedit .bashrc åœ¨æ–‡æ¡£æœ«å°¾æ·»åŠ 
source /opt/ros/melodic/setup.bash source /usr/share/gazebo-8/setup.sh//å¦‚æœæŠ¥é”™çš„è¯ï¼Œå¯ä»¥åˆ æ‰è¿™ä¸€è¡Œ source ~/catkin_ws/devel/setup.bash export ROS_PACKAGE_PATH=~/catkin_ws:${ROS_PACKAGE_PATH} export GAZEBO_PLUGIN_PATH=~/catkin_ws/devel/lib:${GAZEBO_PLUGIN_PATH} export LD_LIBRARY_PATH=~/catkin_ws/devel/lib:${LD_LIBRARY_PATH} #3_1, 3_2 export UNITREE_SDK_VERSION=3_2//çœ‹æ˜¯SDKçš„ç‰ˆæœ¬æ˜¯3_1è¿˜æ˜¯3_2.'>
<meta property='og:url' content='https://SZTU-ZBK.github.io/post/blog/'>
<meta property='og:site_name' content='My New Hugo Site'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2022-07-29T12:50:22&#43;08:00'/><meta property='article:modified_time' content='2022-07-29T12:50:22&#43;08:00'/><meta property='og:image' content='https://SZTU-ZBK.github.io/img/sun.jpeg' />
<meta name="twitter:title" content="å®‡æ ‘æœºå™¨ç‹—æ‰‹åŠ¿æ§åˆ¶">
<meta name="twitter:description" content="åœ¨ä¸Šä¸€ç¯‡åšå®¢çš„åŸºç¡€ä¸Šï¼Œç»“åˆæ‰‹åŠ¿è¯†åˆ«å’Œå®éªŒå®¤çš„unitreeA1æœºå™¨ç‹—åšäº†ä¸€ä¸ªæœºå™¨ç‹—çš„æ‰‹åŠ¿æ§åˆ¶,å¯ä»¥å®ç°æ‰‹åŠ¿æ§åˆ¶æœºå™¨ç‹—çš„å‰åå·¦å³å¹³åŠ¨ã€‚
å‰æœŸå‡†å¤‡ 1ã€éœ€è¦å¯¹ROSçš„è¯é¢˜é€šä¿¡æœºåˆ¶åŠå…¶ç¯å¢ƒé…ç½®æœ‰ä¸€å®šäº†è§£ã€‚ 2ã€å»ºè®®å…ˆåœ¨Windowsä¸Šè·‘é€šä¸Šä¸€ç¯‡åšå®¢çš„æ‰‹åŠ¿è¯†åˆ«æ¨¡å‹å†æ¥è¿›è¡Œæœºå™¨ç‹—çš„æ‰‹åŠ¿æ§åˆ¶ã€‚ 3ã€å®‡æ ‘A1æœºå™¨ç‹—ï¼ŒGO1ä»¥åŠå…¶ä»–æœºå™¨ç‹—çš„é…ç½®åŒç†ã€‚ 4ã€æœºå™¨ç‹—å†…ç½®ç”µè„‘ä¸Šçš„ç¯å¢ƒé…ç½®ï¼š â‘ Pythonç‰ˆæœ¬åº”ä¸º3.8ï¼ˆå¿…è¦æ¡ä»¶ï¼‰ â‘¡è§†è§‰è¯†åˆ«ä¾èµ–åŒ…ï¼šOpencv,Mediapipe,; â‘¢Unitreeå®˜æ–¹å‘å¸ƒçš„ROS_to_RealåŒ…ï¼Œç‰ˆæœ¬é€‰æ‹©æœ€æ—©å‘å¸ƒçš„ç‰ˆæœ¬ï¼ˆæˆ–unitreeåç»­å‘å¸ƒçš„æ”¯æŒA1æœºå™¨ç‹—çš„ç‰ˆæœ¬ï¼‰ã€‚ â‘£ROSå¼€å‘ç¯å¢ƒå»ºè®®ç”¨VScodeã€‚ â‘¤åœ¨Windowsä¸‹è½½VncViewerä»¥è¿›è¡Œè¿œç¨‹æ¡Œé¢è¿æ¥ï¼Œé˜²æ­¢è°ƒè¯•è¿åŠ¨ç¨‹åºè¿‡ç¨‹ä¸­æŸåæœºå™¨ç‹—ã€‚ â‘¥ç”±äºROS Melodicæ‰€ç”¨ä¸ºPython2ï¼Œä½†Mediapipeå’ŒOpencvæ”¯æŒçš„ç‰ˆæœ¬ä¸ºPython3.8ï¼Œå› æ­¤éœ€è¦è¿›è¡Œè™šæ‹Ÿç¯å¢ƒé…ç½®ï¼Œä¸‹æ–‡ä¼šè¯¦ç»†å±•å¼€ã€‚
ç¯å¢ƒé…ç½®æ•™ç¨‹ 2.1 ROS_to_RealåŒ…ä»¥åŠSDKçš„ç¼–è¯‘å®‰è£… è¿™ä¸€éƒ¨åˆ†éœ€è¦å…ˆè®¤çœŸé˜…è¯»å®˜æ–¹çš„Readmeæ–‡æ¡£ï¼Œç¡®è®¤å„ç§ä¾èµ–ä»¥åŠç‰ˆæœ¬éƒ½æ˜¯æ­£ç¡®çš„ã€‚ å®˜æ–¹ç½‘å€ï¼šunitreerobotics/unitree_ros_to_real (github.com) é¦–å…ˆè¿›å…¥ä¸»æ–‡ä»¶å¤¹ï¼Œè¾“å…¥ ï¼š
git clone https://github.com/unitreerobotics/unitree_legged_sdk.git //ä¹Ÿå¯ä»¥é‡‡ç”¨é•œåƒæº // git clone https://github.com.cnpmjs.org/unitreerobotics/unitree_legged_sdk.git //ä¹Ÿå¯ä»¥ç›´æ¥ç”¨è‡ªå·±çš„ç”µè„‘åˆ°å®˜ç½‘ä¸‹è½½ï¼Œç„¶åå†ç”¨Uç›˜æ‹·è´åˆ°æœºå™¨ç‹—ä¸Šå³å¯ï¼Œè®°å¾—å…ˆçœ‹Readmeé‡Œæ”¯æŒçš„ç‰ˆæœ¬ã€‚ è¾“å…¥cd unitree_legged_sdk/è¿›å…¥æ–‡ä»¶å¤¹ ç„¶åæŒ‰ç…§readmeé‡Œçš„æ­¥éª¤ï¼Œåœ¨ç»ˆç«¯ä¾æ¬¡è¾“å…¥
mkdir build cd build cmake ../ make æ¥ç€åˆ›å»ºå·¥ä½œç©ºé—´ï¼Œå®‰è£…å®‡æ ‘çš„åŠŸèƒ½åŒ…
mkdir unitree cd unitree mkdir src cd src git clone https://github.com.cnpmjs.org/unitreerobotics/unitree_ros.git //åŒæ ·å¯ä»¥åˆ°è‡ªå·±ç”µè„‘ä¸Šä¸‹è½½å®Œæ‹·è´ æ¥ä¸‹æ¥æŒ‰ç…§æ–‡æ¡£é‡Œè¯´çš„ï¼Œæ‰“å¼€ä¸»æ–‡ä»¶å¤¹é‡Œçš„.bashrcæ–‡ä»¶ï¼Œ åœ¨ä¸»æ–‡ä»¶å¤¹æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š
gedit .bashrc åœ¨æ–‡æ¡£æœ«å°¾æ·»åŠ 
source /opt/ros/melodic/setup.bash source /usr/share/gazebo-8/setup.sh//å¦‚æœæŠ¥é”™çš„è¯ï¼Œå¯ä»¥åˆ æ‰è¿™ä¸€è¡Œ source ~/catkin_ws/devel/setup.bash export ROS_PACKAGE_PATH=~/catkin_ws:${ROS_PACKAGE_PATH} export GAZEBO_PLUGIN_PATH=~/catkin_ws/devel/lib:${GAZEBO_PLUGIN_PATH} export LD_LIBRARY_PATH=~/catkin_ws/devel/lib:${LD_LIBRARY_PATH} #3_1, 3_2 export UNITREE_SDK_VERSION=3_2//çœ‹æ˜¯SDKçš„ç‰ˆæœ¬æ˜¯3_1è¿˜æ˜¯3_2."><meta name="twitter:card" content="img/sun.jpeg">
    <meta name="twitter:image" content='https://SZTU-ZBK.github.io/img/sun.jpeg' />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/ava_huee0e436822bd02c2753f049c175e1b49_143024_300x0_resize_q75_box.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">My New Hugo Site</a></h1>
            <h2 class="site-description">æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ç©ºé—´~</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/CaiJimmy/hugo-theme-stack'
                        target="_blank"
                        title="GitHub"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>
<main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/post/blog/">å®‡æ ‘æœºå™¨ç‹—æ‰‹åŠ¿æ§åˆ¶</a>
        </h2>
    
        
    </div>

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jul 29, 2022</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    4 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>
</header>

    <section class="article-content">
    
    
    <p>åœ¨ä¸Šä¸€ç¯‡åšå®¢çš„åŸºç¡€ä¸Šï¼Œç»“åˆæ‰‹åŠ¿è¯†åˆ«å’Œå®éªŒå®¤çš„unitreeA1æœºå™¨ç‹—åšäº†ä¸€ä¸ªæœºå™¨ç‹—çš„æ‰‹åŠ¿æ§åˆ¶,å¯ä»¥å®ç°æ‰‹åŠ¿æ§åˆ¶æœºå™¨ç‹—çš„å‰åå·¦å³å¹³åŠ¨ã€‚</p>
<h2 id="å‰æœŸå‡†å¤‡">å‰æœŸå‡†å¤‡</h2>
<p>1ã€éœ€è¦å¯¹ROSçš„è¯é¢˜é€šä¿¡æœºåˆ¶åŠå…¶ç¯å¢ƒé…ç½®æœ‰ä¸€å®šäº†è§£ã€‚
2ã€å»ºè®®å…ˆåœ¨Windowsä¸Šè·‘é€šä¸Šä¸€ç¯‡åšå®¢çš„æ‰‹åŠ¿è¯†åˆ«æ¨¡å‹å†æ¥è¿›è¡Œæœºå™¨ç‹—çš„æ‰‹åŠ¿æ§åˆ¶ã€‚
3ã€å®‡æ ‘A1æœºå™¨ç‹—ï¼ŒGO1ä»¥åŠå…¶ä»–æœºå™¨ç‹—çš„é…ç½®åŒç†ã€‚
4ã€æœºå™¨ç‹—å†…ç½®ç”µè„‘ä¸Šçš„ç¯å¢ƒé…ç½®ï¼š
â‘ Pythonç‰ˆæœ¬åº”ä¸º3.8ï¼ˆå¿…è¦æ¡ä»¶ï¼‰
â‘¡è§†è§‰è¯†åˆ«ä¾èµ–åŒ…ï¼šOpencv,Mediapipe,;
â‘¢Unitreeå®˜æ–¹å‘å¸ƒçš„ROS_to_RealåŒ…ï¼Œç‰ˆæœ¬é€‰æ‹©æœ€æ—©å‘å¸ƒçš„ç‰ˆæœ¬ï¼ˆæˆ–unitreeåç»­å‘å¸ƒçš„æ”¯æŒA1æœºå™¨ç‹—çš„ç‰ˆæœ¬ï¼‰ã€‚
â‘£ROSå¼€å‘ç¯å¢ƒå»ºè®®ç”¨VScodeã€‚
â‘¤åœ¨Windowsä¸‹è½½VncViewerä»¥è¿›è¡Œè¿œç¨‹æ¡Œé¢è¿æ¥ï¼Œé˜²æ­¢è°ƒè¯•è¿åŠ¨ç¨‹åºè¿‡ç¨‹ä¸­æŸåæœºå™¨ç‹—ã€‚
â‘¥ç”±äºROS Melodicæ‰€ç”¨ä¸ºPython2ï¼Œä½†Mediapipeå’ŒOpencvæ”¯æŒçš„ç‰ˆæœ¬ä¸ºPython3.8ï¼Œå› æ­¤éœ€è¦è¿›è¡Œè™šæ‹Ÿç¯å¢ƒé…ç½®ï¼Œä¸‹æ–‡ä¼šè¯¦ç»†å±•å¼€ã€‚</p>
<h2 id="ç¯å¢ƒé…ç½®æ•™ç¨‹">ç¯å¢ƒé…ç½®æ•™ç¨‹</h2>
<h3 id="21-ros_to_realåŒ…ä»¥åŠsdkçš„ç¼–è¯‘å®‰è£…">2.1 ROS_to_RealåŒ…ä»¥åŠSDKçš„ç¼–è¯‘å®‰è£…</h3>
<p>è¿™ä¸€éƒ¨åˆ†éœ€è¦å…ˆè®¤çœŸé˜…è¯»å®˜æ–¹çš„Readmeæ–‡æ¡£ï¼Œç¡®è®¤å„ç§ä¾èµ–ä»¥åŠç‰ˆæœ¬éƒ½æ˜¯æ­£ç¡®çš„ã€‚
å®˜æ–¹ç½‘å€ï¼šunitreerobotics/unitree_ros_to_real (github.com)
é¦–å…ˆè¿›å…¥ä¸»æ–‡ä»¶å¤¹ï¼Œè¾“å…¥ ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://github.com/unitreerobotics/unitree_legged_sdk.git
</span></span><span style="display:flex;"><span>//ä¹Ÿå¯ä»¥é‡‡ç”¨é•œåƒæº
</span></span><span style="display:flex;"><span>// git clone https://github.com.cnpmjs.org/unitreerobotics/unitree_legged_sdk.git
</span></span><span style="display:flex;"><span>//ä¹Ÿå¯ä»¥ç›´æ¥ç”¨è‡ªå·±çš„ç”µè„‘åˆ°å®˜ç½‘ä¸‹è½½ï¼Œç„¶åå†ç”¨Uç›˜æ‹·è´åˆ°æœºå™¨ç‹—ä¸Šå³å¯ï¼Œè®°å¾—å…ˆçœ‹Readmeé‡Œæ”¯æŒçš„ç‰ˆæœ¬ã€‚
</span></span></code></pre></div><p>è¾“å…¥cd unitree_legged_sdk/è¿›å…¥æ–‡ä»¶å¤¹
ç„¶åæŒ‰ç…§readmeé‡Œçš„æ­¥éª¤ï¼Œåœ¨ç»ˆç«¯ä¾æ¬¡è¾“å…¥</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir build
</span></span><span style="display:flex;"><span>cd build
</span></span><span style="display:flex;"><span>cmake ../
</span></span><span style="display:flex;"><span>make
</span></span></code></pre></div><p>æ¥ç€åˆ›å»ºå·¥ä½œç©ºé—´ï¼Œå®‰è£…å®‡æ ‘çš„åŠŸèƒ½åŒ…</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir unitree
</span></span><span style="display:flex;"><span>cd unitree
</span></span><span style="display:flex;"><span>mkdir src
</span></span><span style="display:flex;"><span>cd src
</span></span><span style="display:flex;"><span>git clone https://github.com.cnpmjs.org/unitreerobotics/unitree_ros.git
</span></span><span style="display:flex;"><span>//åŒæ ·å¯ä»¥åˆ°è‡ªå·±ç”µè„‘ä¸Šä¸‹è½½å®Œæ‹·è´
</span></span></code></pre></div><p>æ¥ä¸‹æ¥æŒ‰ç…§æ–‡æ¡£é‡Œè¯´çš„ï¼Œæ‰“å¼€ä¸»æ–‡ä»¶å¤¹é‡Œçš„.bashrcæ–‡ä»¶ï¼Œ
åœ¨ä¸»æ–‡ä»¶å¤¹æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gedit .bashrc
</span></span></code></pre></div><p>åœ¨æ–‡æ¡£æœ«å°¾æ·»åŠ </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>source /opt/ros/melodic/setup.bash
</span></span><span style="display:flex;"><span>source /usr/share/gazebo-8/setup.sh//å¦‚æœæŠ¥é”™çš„è¯ï¼Œå¯ä»¥åˆ æ‰è¿™ä¸€è¡Œ
</span></span><span style="display:flex;"><span>source ~/catkin_ws/devel/setup.bash
</span></span><span style="display:flex;"><span>export ROS_PACKAGE_PATH<span style="color:#f92672">=</span>~/catkin_ws:<span style="color:#e6db74">${</span>ROS_PACKAGE_PATH<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>export GAZEBO_PLUGIN_PATH<span style="color:#f92672">=</span>~/catkin_ws/devel/lib:<span style="color:#e6db74">${</span>GAZEBO_PLUGIN_PATH<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>export LD_LIBRARY_PATH<span style="color:#f92672">=</span>~/catkin_ws/devel/lib:<span style="color:#e6db74">${</span>LD_LIBRARY_PATH<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#3_1, 3_2</span>
</span></span><span style="display:flex;"><span>export UNITREE_SDK_VERSION<span style="color:#f92672">=</span>3_2//çœ‹æ˜¯SDKçš„ç‰ˆæœ¬æ˜¯3_1è¿˜æ˜¯3_2.
</span></span><span style="display:flex;"><span>export UNITREE_LEGGED_SDK_PATH<span style="color:#f92672">=</span>~/unitree_legged_sdk
</span></span><span style="display:flex;"><span>export ALIENGO_SDK_PATH<span style="color:#f92672">=</span>~/aliengo_sdk
</span></span><span style="display:flex;"><span><span style="color:#75715e">#amd64, arm32, arm64</span>
</span></span><span style="display:flex;"><span>export UNITREE_PLATFORM<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;amd64&#34;</span>//A1å‰é¢çš„æ¿å­æ˜¯arm,åé¢çš„æ˜¯amd
</span></span></code></pre></div><p>æ³¨æ„ï¼šè¿™é‡Œè¦æŠŠæŠŠä¸Šè¿°éƒ¨åˆ†catkin_wså…¨éƒ¨æ”¹æˆä½ å·¥ä½œç©ºé—´åï¼ˆå¦‚æœæ˜¯ç›´æ¥å¤åˆ¶ä¸Šé¢ä»£ç çš„è¯å°±ä¸ç”¨æ”¹ï¼‰ï¼Œå¦‚æˆ‘çš„å·¥ä½œç©ºé—´å«unitreeå°±æŠŠcatkin_wsæ”¹æˆunitree
å¦å¤–å¦‚æœéœ€è¦å¼€å‘Aliengoåˆ™æŠŠexport UNITREE_SDK_VERSION=3_2æ”¹export UNITREE_SDK_VERSION=3_1å³å¯
å¦‚æœæ²¡æœ‰å®‰è£…Aliengoçš„SDKå¯ä»¥æŠŠexportALIENGO_SDK_PATH=~/aliengo_sdkæ³¨é‡Šæ‰ã€‚
æ¥ä¸‹æ¥åœ¨å·¥ä½œç©ºé—´ç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>catkin_make
</span></span></code></pre></div><p>ä¸€èˆ¬ç¼–è¯‘ä¸é€šè¿‡éƒ½æ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Œéœ€è¦ä»”ç»†é˜…è¯»Readmeï¼Œæˆ–è€…GazeboæŠ¥é”™çš„è¯å¯ä»¥å°†å…¶æ³¨é‡Šæ‰ã€‚</p>
<h3 id="22-vscodeå®‰è£…ä»¥åŠroså¼€å‘ç¯å¢ƒçš„é…ç½®">2.2 VScodeå®‰è£…ä»¥åŠROSå¼€å‘ç¯å¢ƒçš„é…ç½®</h3>
<p>VScodeå¯ä»¥ç›´æ¥åˆ°<a class="link" href="https://code.visualstudio.com/docs?start=true"  target="_blank" rel="noopener"
    >å®˜ç½‘</a>ä¸Šä¸‹è½½å®‰è£…åŒ…ç„¶åæ‰“å¼€ï¼ˆæˆ–è€…ç›´æ¥ä¸‹è½½NASä¸Šçš„å®‰è£…åŒ…ï¼‰ï¼ŒåŒå‡»å³å¼€å§‹å®‰è£…ã€‚å¦‚æœè§‰å¾—å¤ªæ…¢ä¹Ÿå¯ä»¥åœ¨ç›´æ¥ç”µè„‘ä¸Šä¸‹è½½å®‰è£…åŒ…ï¼Œç„¶åæ‹·è´åˆ°Ubuntué‡Œï¼Œæ³¨æ„ç³»ç»Ÿæ¶æ„ï¼ŒA1å‰é¢çš„æ¿å­æ˜¯armæ¶æ„ï¼Œåé¢çš„æ¿å­æ˜¯amdä¸è¦ä¸‹é”™äº†ã€‚
ä¸‹è½½å®Œæˆåï¼Œæ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd ä½ çš„å·¥ä½œç©ºé—´è·¯å¾„
</span></span><span style="display:flex;"><span>code .
</span></span></code></pre></div><p>å³å¯æ‰“å¼€Vscodeã€‚
è¦åœ¨VScodeä¸Šç¼–å†™ROSç¨‹åºï¼Œè¿˜éœ€è¦ä»¥ä¸‹é…ç½®æ“ä½œã€‚
â‘ æ‰“å¼€Vscode,ç‚¹å‡»è¿™é‡Œ
<img src="https://img-blog.csdnimg.cn/af73bc05a4e34af98e1fed219106017e.png"
	
	
	
	loading="lazy"
	
		alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"
	
	
>
â‘¡æœç´¢ROSï¼ŒC++ï¼ŒPythonï¼ŒCMakeï¼Œä»¥åŠcatkin_toolæ’ä»¶å¹¶ä¸‹è½½ï¼Œå¦‚å›¾ï¼š
<img src="https://img-blog.csdnimg.cn/27352a4b71d8454899955f40174a6a53.png"
	
	
	
	loading="lazy"
	
		alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"
	
	
>
â‘¢ç„¶åctrl + shfit + bï¼Œç‚¹å‡»ç¬¬ä¸€è¡Œå³è¾¹çš„å°é½¿è½®
å°†é‡Œé¢çš„å†…å®¹æ›¿æ¢å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>// æœ‰å…³ tasks.json æ ¼å¼çš„æ–‡æ¡£ï¼Œè¯·å‚è§
</span></span><span style="display:flex;"><span>    // https://go.microsoft.com/fwlink/?LinkId<span style="color:#f92672">=</span><span style="color:#ae81ff">733558</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;2.0.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;tasks&#34;</span>: <span style="color:#f92672">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;label&#34;</span>: <span style="color:#e6db74">&#34;catkin_make:debug&#34;</span>, //ä»£è¡¨æç¤ºçš„æè¿°æ€§ä¿¡æ¯
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;shell&#34;</span>,  //å¯ä»¥é€‰æ‹©shellæˆ–è€…process,å¦‚æœæ˜¯shellä»£ç æ˜¯åœ¨shellé‡Œé¢è¿è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œå¦‚æœæ˜¯processä»£è¡¨ä½œä¸ºä¸€ä¸ªè¿›ç¨‹æ¥è¿è¡Œ
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;command&#34;</span>: <span style="color:#e6db74">&#34;catkin_make&#34;</span>,//è¿™ä¸ªæ˜¯æˆ‘ä»¬éœ€è¦è¿è¡Œçš„å‘½ä»¤
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;args&#34;</span>: <span style="color:#f92672">[]</span>,//å¦‚æœéœ€è¦åœ¨å‘½ä»¤åé¢åŠ ä¸€äº›åç¼€ï¼Œå¯ä»¥å†™åœ¨è¿™é‡Œï¼Œæ¯”å¦‚-DCATKIN_WHITELIST_PACKAGES<span style="color:#f92672">=</span>â€œpac1;pac2â€
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;group&#34;</span>: <span style="color:#f92672">{</span><span style="color:#e6db74">&#34;kind&#34;</span>:<span style="color:#e6db74">&#34;build&#34;</span>,<span style="color:#e6db74">&#34;isDefault&#34;</span>:true<span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;presentation&#34;</span>: <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;reveal&#34;</span>: <span style="color:#e6db74">&#34;always&#34;</span>//å¯é€‰alwaysæˆ–è€…silenceï¼Œä»£è¡¨æ˜¯å¦è¾“å‡ºä¿¡æ¯
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;problemMatcher&#34;</span>: <span style="color:#e6db74">&#34;</span>$msCompile<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>â‘£ç„¶åæ‰“å¼€c_cpp_properties.jsonæ–‡ä»¶ï¼Œå°†Cppæ ‡å‡†ä¿®æ”¹å¦‚ä¸‹ï¼š
<img src="https://img-blog.csdnimg.cn/18fbc6131e2d47a093abb6b80fe9e32b.png"
	
	
	
	loading="lazy"
	
		alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"
	
	
></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ä»¥ä¸Šæ“ä½œéƒ½è¦æ‰§è¡Œï¼Œå¦åˆ™å°†æ— æ³•å¯¼å…¥å¤´æ–‡ä»¶ã€‚
</span></span><span style="display:flex;"><span>ä»¥åŠç¼–å†™ç¨‹åºæ—¶ï¼Œå¦‚æœé‡Œé¢å‡ºç°äº†ä¸­æ–‡ï¼Œè®°å¾—åŠ ä¸Šï¼š
</span></span><span style="display:flex;"><span>setlocale<span style="color:#f92672">(</span>LC_CTYPE, <span style="color:#e6db74">&#34;zh_CN.utf8&#34;</span><span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>setlocale<span style="color:#f92672">(</span>LC_ALL, <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">)</span>;
</span></span></code></pre></div><p>2.3 Python3.8ä¸‹è½½</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>wget https://www.python.org/ftp/python/3.8.1/Python-3.8.1.tgz
</span></span><span style="display:flex;"><span>tar -zxvf Python-3.8.1.tgz
</span></span><span style="display:flex;"><span>cd Python-3.8.1
</span></span><span style="display:flex;"><span>./configure
</span></span><span style="display:flex;"><span>make
</span></span><span style="display:flex;"><span>make test
</span></span></code></pre></div><p>å¦‚æœmake testå‘½ä»¤å‡ºç°ModuleNotFoundError: No module namedâ€˜_ctypesâ€™
å¯ä»¥å‚è€ƒ<a class="link" href="https://blog.csdn.net/u014775723/article/details/85224447"  target="_blank" rel="noopener"
    >è¿™ç¯‡åšå®¢</a>è§£å†³
æœ€åè¾“å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo make install
</span></span></code></pre></div><h3 id="24-python-è™šæ‹Ÿç¯å¢ƒé…ç½®">2.4 Python è™šæ‹Ÿç¯å¢ƒé…ç½®</h3>
<p>å› ä¸ºæˆ‘ä»¬çš„è§†è§‰ç¨‹åºä¾èµ–Opencvå’ŒMediapipeï¼Œè€Œå®ƒä»¬éœ€è¦Python3.8æ¥è¿è¡Œï¼Œä½†æ˜¯ROSä¾èµ–çš„åˆæ˜¯Python2,æ‰€ä»¥æˆ‘ä»¬éœ€è¦é…ç½®å‡ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œå°†ä¸¤ä¸ªç¯å¢ƒéš”ç¦»å¼€ã€‚å¿…é¡»ä¸‹è½½å®ŒPython3.8ä¹‹åæ‰å¯ä»¥æ‰§è¡Œæ­¤æ“ä½œã€‚è¿™ä¸€æ­¥æ˜¯ä¸ºäº†æŠŠç³»ç»Ÿå½“å‰çš„Pythonç¯å¢ƒæ¢æˆPython3.8ï¼Œå› æ­¤æ²¡ä¸‹è½½Python3.8æ‰§è¡Œè¿™ä¸€æ­¥çš„è¯ä¼šç›´æ¥æŠ¥é”™ã€‚
åŸç†ï¼šä½¿ç”¨virtualenvåˆ›å»ºä¸€ä¸ªPython3çš„ç¯å¢ƒã€‚ç„¶ååœ¨è¿™ä¸ªç¯å¢ƒä¸­ç¼–è¯‘å®‰è£…è‡ªå·±éœ€è¦çš„è½¯ä»¶åŒ…ã€‚åœ¨å¼•ç”¨è½¯ä»¶åŒ…çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„Python3çš„è½¯ä»¶åŒ…ï¼Œä¼šè‡ªåŠ¨çš„å»Python2.7çš„ç¯å¢ƒé‡Œé¢æ‰¾ã€‚è¿™æ ·å¾ˆå¤šè½¯ä»¶åŒ…éƒ½æ˜¯å¯ä»¥é€šç”¨çš„ã€‚å½“ç„¶å¯¹äºæ²¡æœ‰åšå¥½Python3æ”¯æŒçš„è½¯ä»¶åŒ…ä¹Ÿæ˜¯æ²¡æ³•ç”¨çš„ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir catkin_ws <span style="color:#75715e"># åˆ›å»ºå·¥ä½œç©ºé—´</span>
</span></span><span style="display:flex;"><span>cd catkin_ws
</span></span><span style="display:flex;"><span>mkdir src
</span></span><span style="display:flex;"><span>cd src 
</span></span><span style="display:flex;"><span><span style="color:#75715e">#åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span>
</span></span><span style="display:flex;"><span>virtualenv -p /usr/local/python3.8.1/bin/python3.8.1 venv     <span style="color:#75715e">#è¿™ä¸€æ­¥æ˜¯åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ,è·¯å¾„ä¸ä¸€å®šä¸€æ ·ï¼Œä»…ä¾›å‚è€ƒã€‚</span>
</span></span><span style="display:flex;"><span>source venv/bin/activate                              <span style="color:#75715e">#è¿™ä¸€æ­¥æ˜¯æ¿€æ´»è™šæ‹Ÿç¯å¢ƒã€‚</span>
</span></span><span style="display:flex;"><span>pip install catkin_pkg pyyaml empy rospkg numpy          <span style="color:#75715e">#å®‰è£…python3è™šæ‹Ÿç¯å¢ƒä¸‹æ‰€éœ€çš„ç¼–è¯‘ä¾èµ–ä¹‹ç±»çš„ã€‚</span>
</span></span><span style="display:flex;"><span>catkin_make
</span></span><span style="display:flex;"><span>source devel/setup.bash
</span></span></code></pre></div><h3 id="25-mediapipeä¸opencvçš„å®‰è£…">2.5 Mediapipeä¸Opencvçš„å®‰è£…</h3>
<p>å›åˆ°ä¸Šä¸€æ­¥çš„å·¥ä½œç©ºé—´ç›®å½•ä¸‹ï¼Œæ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼Œå¹¶ä¸‹è½½å®‰è£…Mediapipeä¸Opencvï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>source venv/bin/activate  
</span></span></code></pre></div><p>æ­¤æ—¶å‘½ä»¤è¡Œè¾“å…¥python,å¯ä»¥çœ‹åˆ°Pythonå·²ç»å˜æˆäº†3.8ç‰ˆæœ¬ã€‚
ç„¶åå¼€å§‹ä¸‹è½½Opencvå’ŒMediapipeåŒ…(å¦‚æœæŠ¥é”™å°±æŠŠpip3.8æ¢ä¸ºpipæˆ–pip3)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3.8 install opencv-python
</span></span><span style="display:flex;"><span>pip3.8 install mediapipe
</span></span></code></pre></div><p>å¦‚æœæŠ¥é”™æ˜¯pipç‰ˆæœ¬ä¸å¤Ÿï¼Œåˆ™æ‰§è¡Œ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m pip install --upgrade pip
</span></span></code></pre></div><p>é…ç½®å®Œæˆåè§†è§‰ç¨‹åºå³å¯è¿è¡Œï¼Œæ³¨æ„ï¼Œä¸è¦è¿›è¡Œç¼–è¯‘ï¼Œç›´æ¥å³é”®é€‰æ‹©åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œå³å¯ã€‚</p>
<h3 id="26-è¿œç¨‹æ¡Œé¢é“¾æ¥">2.6 è¿œç¨‹æ¡Œé¢é“¾æ¥</h3>
<p>å…ˆåˆ°å®˜ç½‘ä¸‹è½½VncViewer,ç„¶åå¯åŠ¨æœºå™¨ç‹—ï¼Œè¿æ¥æœºå™¨ç‹—WiFi,å¯†ç æ˜¯8ä¸ª0ï¼›ç„¶åæ‰“å¼€VNC_Viewer;
ç¬¬ä¸€è¡Œé€‰vnc-any; åœ°å€ä¸º192.168.123.12ï¼›å¯†ç å…«ä¸ª0ï¼›
å¦‚æœå±å¹•åªæœ‰ä¸‰åˆ†ä¹‹ä¸€ï¼Œåˆ™æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥å‘½ä»¤ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>xrandr --fb 1920x1080
</span></span></code></pre></div><p>2.6æŠ¥é”™è§£å†³ï¼š
å¦‚æœåœ¨è¿è¡Œroscoreæ—¶æŠ¥é”™è¯´pythonç‰ˆæœ¬ä¸å¯¹ï¼Œåˆ™éœ€è¦é‡ç½®pythonè½¯é“¾æ¥ï¼Œå°†å…¶æŒ‡å‘python2(éœ€è¦å…ˆé€šè¿‡whereis pythonå‘½ä»¤æŸ¥æ‰¾python2æ‰€åœ¨è·¯å¾„,åœ¨å‘½ä»¤è¡Œè¾“å…¥:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mv /usr/bin/python /usr/bin/python.bak
</span></span><span style="display:flex;"><span>ln -s /usr/local/python2.7/bin/python2.7 /usr/bin/python <span style="color:#75715e">#è¿™é‡Œçš„è·¯å¾„æ˜¯python2çš„è·¯å¾„</span>
</span></span><span style="display:flex;"><span>mv /usr/bin/pip /usr/bin/pip.bak
</span></span><span style="display:flex;"><span>ln -s /usr/local/python3.7.1/bin/pip3 /usr/bin/pip
</span></span></code></pre></div><p>å¦‚æœç¼ºå°‘æŸäº›åŒ…æˆ–ä¾èµ–ï¼Œç›´æ¥ç”¨sudo apt-get æˆ–pip install å‘½ä»¤å®‰è£…å³å¯ï¼Œå‰ææ˜¯å¾—å…ˆæ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼Œåœ¨è™šæ‹Ÿç¯å¢ƒä¸­ä¸‹è½½pythonåŒ…ã€‚</p>
<h3 id="å…³é”®ä»£ç ">å…³é”®ä»£ç </h3>
<p>è§†è§‰ä»£ç </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#e6db74">```</span>python
</span></span><span style="display:flex;"><span><span style="color:#75715e">#! /usr/bin/env python3.8</span>
</span></span><span style="display:flex;"><span>import os
</span></span><span style="display:flex;"><span>import sys
</span></span><span style="display:flex;"><span>path <span style="color:#f92672">=</span> os.path.abspath<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;.&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>sys.path.insert<span style="color:#f92672">(</span>0,path + <span style="color:#e6db74">&#34;/src/scripts&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>from numpy import rate
</span></span><span style="display:flex;"><span>import rospy
</span></span><span style="display:flex;"><span>from std_msgs.msg import Int32
</span></span><span style="display:flex;"><span>import cv2
</span></span><span style="display:flex;"><span>import mediapipe as mp
</span></span><span style="display:flex;"><span>import numpy as np
</span></span><span style="display:flex;"><span>import time#ç”¨äºå¾—çŸ¥å½“å‰æ—¶é—´
</span></span><span style="display:flex;"><span>import HandTrackingModule  as htm
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;1.å¯¼åŒ…
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   2.åˆå§‹åŒ–èŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   3.åˆ›å»ºå‘å¸ƒè€…å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   4.ç¼–å†™å¯¹è±¡å¹¶å‘å¸ƒæ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span><span style="color:#75715e">#2.åˆå§‹åŒ–èŠ‚ç‚¹</span>
</span></span><span style="display:flex;"><span>    rospy.init_node<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;vis&#34;</span><span style="color:#f92672">)</span><span style="color:#75715e">#ä¼ å…¥èŠ‚ç‚¹åç§°</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#3.åˆ›å»ºå‘å¸ƒè€…å¯¹è±¡</span>
</span></span><span style="display:flex;"><span>    pub <span style="color:#f92672">=</span> rospy.Publisher<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;visual&#34;</span>,Int32,queue_size<span style="color:#f92672">=</span>10<span style="color:#f92672">)</span><span style="color:#75715e">#è¯é¢˜åï¼Œæ¶ˆæ¯ç±»å‹ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ï¼Œ</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#4.ç¼–å†™å¯¹è±¡å¹¶å‘å¸ƒæ•°æ®</span>
</span></span><span style="display:flex;"><span>    msg <span style="color:#f92672">=</span> Int32<span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æŒ‡å®šå‘å¸ƒé¢‘ç‡</span>
</span></span><span style="display:flex;"><span>    rate <span style="color:#f92672">=</span> rospy.Rate<span style="color:#f92672">(</span>500<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ä½¿ç”¨å¾ªç¯å‘å¸ƒæ•°æ®</span>
</span></span><span style="display:flex;"><span>    wCam,hCam <span style="color:#f92672">=</span> 640,480
</span></span><span style="display:flex;"><span>    cTime <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    pTime <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    cap <span style="color:#f92672">=</span> cv2.VideoCapture<span style="color:#f92672">(</span>2<span style="color:#f92672">)</span>//å¦‚æœæ‘„åƒå¤´è·å–ç”»é¢æŠ¥é”™ï¼Œå¯ä»¥æŠŠè¿™é‡Œæ¢æˆ0ï¼Œ1ï¼Œæˆ–è€…3
</span></span><span style="display:flex;"><span>    cap.set<span style="color:#f92672">(</span>3,wCam<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    cap.set<span style="color:#f92672">(</span>4,hCam<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    detector <span style="color:#f92672">=</span> htm.handDetector<span style="color:#f92672">(</span>detectionCon<span style="color:#f92672">=</span>0.7<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> not rospy.is_shutdown<span style="color:#f92672">()</span>:
</span></span><span style="display:flex;"><span>        success,img <span style="color:#f92672">=</span> cap.read<span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span>        img <span style="color:#f92672">=</span> detector.findHands<span style="color:#f92672">(</span>img<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#Find Hand</span>
</span></span><span style="display:flex;"><span>        lmList <span style="color:#f92672">=</span> detector.findPosition<span style="color:#f92672">(</span>img,draw<span style="color:#f92672">=</span>False<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> len<span style="color:#f92672">(</span>lmList<span style="color:#f92672">)</span> !<span style="color:#f92672">=</span> 0:
</span></span><span style="display:flex;"><span>            print<span style="color:#f92672">(</span>lmList<span style="color:#f92672">[</span>4<span style="color:#f92672">]</span>,lmList<span style="color:#f92672">[</span>20<span style="color:#f92672">])</span>
</span></span><span style="display:flex;"><span>            x1 <span style="color:#f92672">=</span> lmList<span style="color:#f92672">[</span>4<span style="color:#f92672">][</span>1<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>            x2 <span style="color:#f92672">=</span> lmList<span style="color:#f92672">[</span>20<span style="color:#f92672">][</span>1<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>            y1 <span style="color:#f92672">=</span> lmList<span style="color:#f92672">[</span>12<span style="color:#f92672">][</span>2<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>            y2 <span style="color:#f92672">=</span> lmList<span style="color:#f92672">[</span>9<span style="color:#f92672">][</span>2<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>            dx<span style="color:#f92672">=</span>x1-x2
</span></span><span style="display:flex;"><span>            dy<span style="color:#f92672">=</span>y1-y2
</span></span><span style="display:flex;"><span>            dh<span style="color:#f92672">=</span>lmList<span style="color:#f92672">[</span>4<span style="color:#f92672">][</span>2<span style="color:#f92672">]</span>-lmList<span style="color:#f92672">[</span>17<span style="color:#f92672">][</span>2<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>            dw<span style="color:#f92672">=</span>lmList<span style="color:#f92672">[</span>12<span style="color:#f92672">][</span>1<span style="color:#f92672">]</span>-lmList<span style="color:#f92672">[</span>0<span style="color:#f92672">][</span>1<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>            print<span style="color:#f92672">(</span>dx<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>            print<span style="color:#f92672">(</span>dy<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> dh&lt;-20:
</span></span><span style="display:flex;"><span>                print<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ok&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>                print<span style="color:#f92672">(</span>dw<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> dw&lt;-5:
</span></span><span style="display:flex;"><span>                    print<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;left&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>                    flag<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">elif</span> dw&gt;5:
</span></span><span style="display:flex;"><span>                    print<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;right&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>                    flag<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">elif</span> dx&gt;10 and dy&lt;0:
</span></span><span style="display:flex;"><span>                flag<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>                print<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;back&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">elif</span> dx&lt;-15 and dy&lt;0:
</span></span><span style="display:flex;"><span>                print<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;go ahead&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>                flag<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> dy&gt;5:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> abs<span style="color:#f92672">(</span>dh<span style="color:#f92672">)</span>&lt;40:
</span></span><span style="display:flex;"><span>                    print<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;stop&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>                    flag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>            msg.data<span style="color:#f92672">=</span>flag
</span></span><span style="display:flex;"><span>            rospy.loginfo<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;å‘å¸ƒçš„æ•°æ®æ˜¯ï¼š%d&#34;</span>,msg.data<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>            pub.publish<span style="color:#f92672">(</span>msg<span style="color:#f92672">)</span>//å‘å¸ƒæ•°æ®
</span></span><span style="display:flex;"><span>        cTime <span style="color:#f92672">=</span> time.time<span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span>        fps <span style="color:#f92672">=</span> 1/<span style="color:#f92672">(</span>cTime-pTime<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        pTime <span style="color:#f92672">=</span> cTime
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        cv2.putText<span style="color:#f92672">(</span>img,f<span style="color:#e6db74">&#34;FPS:{int(fps)}&#34;</span>,<span style="color:#f92672">(</span>10,70<span style="color:#f92672">)</span>,cv2.FONT_HERSHEY_PLAIN,3,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">(</span>255,0,0<span style="color:#f92672">)</span>,3<span style="color:#f92672">)</span><span style="color:#75715e">#åœ¨å›¾åƒä¸Šç”»å‡ºå®æ—¶FPS</span>
</span></span><span style="display:flex;"><span>        cv2.imshow<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;IMG&#34;</span>,img<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> cv2.waitKey<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span> <span style="color:#f92672">==</span> ord<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;q&#34;</span><span style="color:#f92672">)</span>:
</span></span><span style="display:flex;"><span>            break  
</span></span></code></pre></div><p>è§†è§‰ç¨‹åºçš„è¯¦ç»†æ³¨é‡Šè¯·çœ‹ä¸Šä¸€ç¯‡åšå®¢ï¼Œä¸¤è€…ä»£ç åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯å¤šäº†ä¸€ä¸ªåˆ¤æ–­æ¨¡å—å’Œå‘½ä»¤å‘å¸ƒï¼Œè¿™é‡Œéƒ½æœ‰æ³¨é‡Šã€‚
è¿åŠ¨æ§åˆ¶æºç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">/************************************************************************
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Copyright (c) 2018-2019, Unitree Robotics.Co.Ltd. All rights reserved.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Use of this source code is governed by the MPL-2.0 license, see LICENSE.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">************************************************************************/</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ros/ros.h&gt;//å¤´æ–‡ä»¶å¯¼å…¥</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;pthread.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;boost/thread.hpp&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;boost/thread/mutex.hpp&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;unitree_legged_msgs/HighCmd.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;unitree_legged_msgs/HighState.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;convert.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;std_msgs/Int32.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;sstream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#ifdef SDK3_1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> aliengo;
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#ifdef SDK3_2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> UNITREE_LEGGED_SDK;
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> flag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#75715e">//ç”¨äºæ ‡å¿—æœºå™¨ç‹—æ˜¯å¦å‘å¸ƒè¿‡åœæ­¢å‘½ä»¤
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">long</span> motiontime<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#75715e">//ç”¨äºæ ‡å¿—å½“å‰æœºå™¨ç‹—æ¥æ”¶åˆ°çš„å‘½ä»¤ï¼Œ1æ˜¯å‰è¿›ï¼Œ2æ˜¯åé€€ï¼Œ3æ˜¯å·¦è½¬ï¼Œå››æ˜¯åœæ­¢
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> flag_sp<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> TLCM<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> update_loop(<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> param)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    TLCM <span style="color:#f92672">*</span>data <span style="color:#f92672">=</span> (TLCM <span style="color:#f92672">*</span>)param;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(ros<span style="color:#f92672">::</span>ok){
</span></span><span style="display:flex;"><span>        data<span style="color:#f92672">-&gt;</span>Recv();
</span></span><span style="display:flex;"><span>        usleep(<span style="color:#ae81ff">2000</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doMsg</span>(<span style="color:#66d9ef">const</span> std_msgs<span style="color:#f92672">::</span>Int32<span style="color:#f92672">::</span>ConstPtr <span style="color:#f92672">&amp;</span>msg)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    printf(<span style="color:#e6db74">&#34;data:%d&#34;</span>,msg<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(msg<span style="color:#f92672">-&gt;</span>data<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)<span style="color:#75715e">//åªè¦è§†è§‰æ¨¡å—å‘å¸ƒè¿‡ä¸€æ¬¡åœæ­¢å‘½ä»¤ï¼Œæœºå™¨ç‹—å°±ä¼šåœä¸‹ï¼Œå¹¶ä¸”ä¸å†é‡æ–°è¿åŠ¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        motiontime<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>        flag<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        printf(<span style="color:#e6db74">&#34;5&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(msg<span style="color:#f92672">-&gt;</span>data<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)<span style="color:#75715e">//å–å‡ºæ•°æ®è¿›è¡Œæ¯”è¾ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        motiontime<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        printf(<span style="color:#e6db74">&#34;1&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(msg<span style="color:#f92672">-&gt;</span>data<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        motiontime<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>        printf(<span style="color:#e6db74">&#34;2&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(msg<span style="color:#f92672">-&gt;</span>data<span style="color:#f92672">==</span><span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        motiontime<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>        printf(<span style="color:#e6db74">&#34;3&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(msg<span style="color:#f92672">-&gt;</span>data<span style="color:#f92672">==</span><span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        motiontime<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>        printf(<span style="color:#e6db74">&#34;4&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (flag<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        motiontime<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>        printf(<span style="color:#e6db74">&#34;%d&#34;</span>,motiontime);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> TCmd, <span style="color:#66d9ef">typename</span> TState, <span style="color:#66d9ef">typename</span> TLCM<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> mainHelper(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>argv[], TLCM <span style="color:#f92672">&amp;</span>roslcm)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;WARNING: Control level is set to HIGH-level.&#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Make sure the robot is standing on the ground.&#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Press Enter to continue...&#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>cin.ignore();
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    ros<span style="color:#f92672">::</span>NodeHandle n;
</span></span><span style="display:flex;"><span>    ros<span style="color:#f92672">::</span>Rate loop_rate(<span style="color:#ae81ff">500</span>);
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// SetLevel(HIGHLEVEL);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    TCmd SendHighLCM <span style="color:#f92672">=</span> {<span style="color:#ae81ff">0</span>};
</span></span><span style="display:flex;"><span>    TState RecvHighLCM <span style="color:#f92672">=</span> {<span style="color:#ae81ff">0</span>};
</span></span><span style="display:flex;"><span>    unitree_legged_msgs<span style="color:#f92672">::</span>HighCmd SendHighROS;
</span></span><span style="display:flex;"><span>    unitree_legged_msgs<span style="color:#f92672">::</span>HighState RecvHighROS;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    roslcm.SubscribeState();
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    pthread_t tid;
</span></span><span style="display:flex;"><span>    pthread_create(<span style="color:#f92672">&amp;</span>tid, NULL, update_loop<span style="color:#f92672">&lt;</span>TLCM<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&amp;</span>roslcm);
</span></span><span style="display:flex;"><span>    ros<span style="color:#f92672">::</span>Subscriber sub <span style="color:#f92672">=</span> n.subscribe(<span style="color:#e6db74">&#34;visual&#34;</span>,<span style="color:#ae81ff">15</span>,doMsg);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (ros<span style="color:#f92672">::</span>ok()){
</span></span><span style="display:flex;"><span>        ros<span style="color:#f92672">::</span>spinOnce();
</span></span><span style="display:flex;"><span>        roslcm.Get(RecvHighLCM);
</span></span><span style="display:flex;"><span>        RecvHighROS <span style="color:#f92672">=</span> ToRos(RecvHighLCM);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// printf(&#34;%f\n&#34;,  RecvHighROS.forwardSpeed);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span> 
</span></span><span style="display:flex;"><span>        SendHighROS.forwardSpeed <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0f</span>;<span style="color:#75715e">//å‰åé€Ÿåº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        SendHighROS.sideSpeed <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0f</span>;<span style="color:#75715e">//å·¦å³é€Ÿåº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        SendHighROS.rotateSpeed <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0f</span>;<span style="color:#75715e">//æ—‹è½¬é€Ÿåº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        SendHighROS.bodyHeight <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0f</span>;<span style="color:#75715e">//èº«ä½“é«˜åº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span> 
</span></span><span style="display:flex;"><span>        SendHighROS.mode <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;<span style="color:#75715e">//è¿åŠ¨æ¨¡å¼ï¼Œ0ä¸ºé™æ­¢æ¨¡å¼ï¼Œ1ä¸ºè°ƒæ•´æ¨¡å‹ï¼Œæœºå™¨ç‹—å¯ä»¥è°ƒæ•´è‡ªèº«é«˜åº¦ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        SendHighROS.roll  <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;<span style="color:#75715e">//2ä¸ºè¿åŠ¨æ¨¡å¼ï¼Œæœºå™¨ç‹—å‘å¸ƒçš„é€Ÿåº¦å‘½ä»¤æ–¹æ‰æœ‰æ•ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        SendHighROS.pitch <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;<span style="color:#75715e">//æœºå™¨ç‹—ä¸‰ä¸ªè½´çš„è§’åº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        SendHighROS.yaw <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//printf(&#34;%f\n&#34;,  RecvHighROS.forwardSpeed);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//printf(&#34;3&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>(motiontime<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>){
</span></span><span style="display:flex;"><span>            SendHighROS.mode <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>            SendHighROS.sideSpeed <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.01f</span>;
</span></span><span style="display:flex;"><span>            SendHighROS.forwardSpeed <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.2f</span>; <span style="color:#75715e">// -1  ~ +1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#a6e22e">if</span>(motiontime<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>){
</span></span><span style="display:flex;"><span>            SendHighROS.mode <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>            SendHighROS.sideSpeed <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.01f</span>;
</span></span><span style="display:flex;"><span>            SendHighROS.forwardSpeed <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.2f</span>; <span style="color:#75715e">// -1  ~ +1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#a6e22e">if</span>(motiontime<span style="color:#f92672">==</span><span style="color:#ae81ff">3</span>){
</span></span><span style="display:flex;"><span>            SendHighROS.mode <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>            SendHighROS.sideSpeed <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.3f</span>; <span style="color:#75715e">// -1  ~ +1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#a6e22e">if</span>(motiontime<span style="color:#f92672">==</span><span style="color:#ae81ff">4</span>){
</span></span><span style="display:flex;"><span>            SendHighROS.mode <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>            SendHighROS.sideSpeed <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.3f</span>;     
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(motiontime<span style="color:#f92672">==</span><span style="color:#ae81ff">5</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            flag<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>            SendHighROS.mode <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>            printf(<span style="color:#e6db74">&#34;ok&#34;</span>);
</span></span><span style="display:flex;"><span>            SendHighROS.forwardSpeed <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0f</span>;
</span></span><span style="display:flex;"><span>            SendHighROS.sideSpeed <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0f</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// SendHighLCM = ToLcm(SendHighROS, SendHighLCM);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">// roslcm.Send(SendHighLCM);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>        SendHighLCM <span style="color:#f92672">=</span> ToLcm(SendHighROS, SendHighLCM); 
</span></span><span style="display:flex;"><span>        roslcm.Send(SendHighLCM); <span style="color:#75715e">//å‘å¸ƒé€Ÿåº¦æ¶ˆæ¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        loop_rate.sleep(); <span style="color:#75715e">//ç”¨äºä¼‘çœ å‡½æ•°ï¼Œæ§åˆ¶å‘å¸ƒé¢‘ç‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>argv[]){
</span></span><span style="display:flex;"><span>    ros<span style="color:#f92672">::</span>init(argc, argv, <span style="color:#e6db74">&#34;walk_ros_mode&#34;</span>);
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>string firmwork;
</span></span><span style="display:flex;"><span>    ros<span style="color:#f92672">::</span>param<span style="color:#f92672">::</span>get(<span style="color:#e6db74">&#34;/firmwork&#34;</span>, firmwork);
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#ifdef SDK3_1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        aliengo<span style="color:#f92672">::</span>Control control(aliengo<span style="color:#f92672">::</span>HIGHLEVEL);
</span></span><span style="display:flex;"><span>        aliengo<span style="color:#f92672">::</span>LCM roslcm;
</span></span><span style="display:flex;"><span>        mainHelper<span style="color:#f92672">&lt;</span>aliengo<span style="color:#f92672">::</span>HighCmd, aliengo<span style="color:#f92672">::</span>HighState, aliengo<span style="color:#f92672">::</span>LCM<span style="color:#f92672">&gt;</span>(argc, argv, roslcm);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span> 
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#ifdef SDK3_2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        std<span style="color:#f92672">::</span>string robot_name;
</span></span><span style="display:flex;"><span>        UNITREE_LEGGED_SDK<span style="color:#f92672">::</span>LeggedType rname;
</span></span><span style="display:flex;"><span>        ros<span style="color:#f92672">::</span>param<span style="color:#f92672">::</span>get(<span style="color:#e6db74">&#34;/robot_name&#34;</span>, robot_name);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(strcasecmp(robot_name.c_str(), <span style="color:#e6db74">&#34;A1&#34;</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>            rname <span style="color:#f92672">=</span> UNITREE_LEGGED_SDK<span style="color:#f92672">::</span>LeggedType<span style="color:#f92672">::</span>A1;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(strcasecmp(robot_name.c_str(), <span style="color:#e6db74">&#34;Aliengo&#34;</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>            rname <span style="color:#f92672">=</span> UNITREE_LEGGED_SDK<span style="color:#f92672">::</span>LeggedType<span style="color:#f92672">::</span>Aliengo;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// UNITREE_LEGGED_SDK::InitEnvironment();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        UNITREE_LEGGED_SDK<span style="color:#f92672">::</span>LCM roslcm(UNITREE_LEGGED_SDK<span style="color:#f92672">::</span>HIGHLEVEL);
</span></span><span style="display:flex;"><span>        mainHelper<span style="color:#f92672">&lt;</span>UNITREE_LEGGED_SDK<span style="color:#f92672">::</span>HighCmd, UNITREE_LEGGED_SDK<span style="color:#f92672">::</span>HighState, UNITREE_LEGGED_SDK<span style="color:#f92672">::</span>LCM<span style="color:#f92672">&gt;</span>(argc, argv, roslcm);
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/036a3a71c6f34c109500e74745c24f5e.png"
	
	
	
	loading="lazy"
	
		alt="é¡¹ç›®æ•ˆæœ"
	
	
></p>
<p>æ€»ç»“ï¼šé¡¹ç›®çš„æœ€ç»ˆèƒ½å¤Ÿå®ç°å¯¹æœºå™¨ç‹—è¿›è¡Œç®€å•çš„å‰è¿›åé€€ï¼Œå·¦å³å¹³ç§»ç­‰è¿åŠ¨æ§åˆ¶ï¼Œå¹¶ä¸”ç²¾åº¦è¾ƒé«˜ï¼Œè¯¯è¯†ç‡å¾ˆä½ï¼Œåœ¨å®‡æ ‘A1çš„è§†è§‰æ¿ï¼ˆæ€§èƒ½ç›¸å¯¹è¾ƒå¼±ï¼‰ä¸Šå¸§ç‡èƒ½å¤Ÿè¾¾åˆ°12å·¦å³ï¼Œåˆšå¥½èƒ½å¤Ÿæ»¡è¶³æ•°æ®ä¼ è¾“çš„éœ€è¦ï¼Œå¦‚æœéœ€è¦æé«˜å¸§ç‡çš„è¯å¯ä»¥å°†å…¶éƒ¨ç½²åœ¨æœºå™¨ç‹—åé¢çš„è¿åŠ¨æ§åˆ¶æ¿å—ä¸Šï¼ˆæ€§èƒ½è¾ƒå¼ºï¼‰ï¼Œæˆ–è€…è°ƒèŠ‚ä¸Šç¯‡æ–‡æ¡£æåˆ°çš„è¿½è¸ªç½®ä¿¡åº¦ä»¥åŠè¯†åˆ«ç½®ä¿¡åº¦å‡½æ•°ï¼ˆä½†ä¸å»ºè®®è¿™ä¹ˆåšï¼‰ï¼Œèƒ½å¤Ÿæé«˜ä¸€å®šçš„å¸§ç‡ã€‚
ç¼ºé™·ï¼šç”±äºå—åˆ°æœºå™¨ç‹—è®¡ç®—å¹³å°æ€§èƒ½ä»¥åŠç›¸æœºç²¾åº¦çš„é™åˆ¶ï¼Œåœ¨è·ç¦»è¶…è¿‡3.6ç±³æ—¶æ‰‹åŠ¿è¯†åˆ«ä¾¿ä¼šè¾ƒä¸ºå›°éš¾ï¼Œå¦‚æœè¶…è¿‡4ç±³åˆ™æ— æ³•è¯†åˆ«åˆ°æ‰‹åŠ¿ï¼Œä»¥åŠæš‚æ—¶è¿˜æ— æ³•æ§åˆ¶è¿›è¡Œæœºå™¨ç‹—è½¬å‘ç­‰æ›´å¤æ‚çš„è¿åŠ¨ã€‚</p>
<p>é¡¹ç›®è¿›ä¸€æ­¥æ”¹è¿›çš„æ€è·¯ï¼šé€šè¿‡å¯¹æ¨¡å‹è¿›è¡Œè£å‰ªæˆ–è€…è’¸é¦è¿›ä¸€æ­¥é™ä½æ¨¡å‹æ‰€éœ€è®¡ç®—èµ„æºï¼ˆæˆ–è€…åŸºäºLCMçš„ä½å»¶æ—¶é€šä¿¡ï¼Œç»“åˆå®éªŒå®¤çš„é«˜æ€§èƒ½æœåŠ¡å™¨ï¼Œå°†ç”»é¢ä¿¡æ¯ä¼ è¾“ç»™æœåŠ¡å™¨è¿›è¡Œå¤„ç†ï¼Œå†ç”±æœåŠ¡å™¨è¿”å›å¤„ç†ç»“æœï¼Œå¯ä»¥æå¤§æé«˜å¸§ç‡ï¼‰ã€‚å¯¹äºè¿œè·ç¦»è¯†åˆ«é—®é¢˜ï¼Œåœ¨ä¸æ”¹å˜ç¡¬ä»¶çš„åŸºç¡€ä¸Šï¼Œå¯ä»¥é€šè¿‡åŠ å…¥å•ç›®æµ‹è·æ¨¡å—å¯¹æ‰‹åŠ¿è·ç¦»è¿›è¡Œæµ‹é‡å¹¶é€‚å½“é è¿‘æ‰‹åŠ¿ï¼Œä½¿æœºå™¨ç‹—ä¿æŒä¸€ä¸ªè¾ƒä¸ºè‰¯å¥½çš„æ‰‹åŠ¿è¯†åˆ«ç¯å¢ƒã€‚è€Œå¯¹äºæœºå™¨ç‹—æ›´å¤æ‚çš„è¿åŠ¨æ§åˆ¶ï¼Œè®¡åˆ’åŠ å…¥äººä½“èº¯å¹²æ¨¡å—ï¼ˆå³è¯†åˆ«å…¨èº«èŠ‚ç‚¹ï¼‰ï¼Œä»è€Œåœ¨è§†è§‰ä¸Šåˆ¤æ–­æ›´å¤šå…·æœ‰è¾ƒé«˜è¾¨è¯†åº¦çš„åŠ¨ä½œä½œä¸ºå‘½ä»¤æ‰‹åŠ¿ã€‚
å‚è€ƒæ–‡çŒ®
ã€Šubuntuå®‰è£…python3.7ï¼Œå¹¶æ›´æ–°pythoné»˜è®¤æŒ‡å‘ä¸ºpython3.7ã€‹https://blog.csdn.net/u014775723/article/details/85213793?utm_source=app&amp;app_version=5.2.0
ã€Šmediapipeå®‰è£…ä¸ä½¿ç”¨ã€‹
<a class="link" href="https://blog.csdn.net/m0_52364694/article/details/120825352?utm_source=app&amp;app_version=5.2.0"  target="_blank" rel="noopener"
    >https://blog.csdn.net/m0_52364694/article/details/120825352?utm_source=app&app_version=5.2.0</a>
ã€Šå°†pipä»21.2.1é™çº§åˆ°20.0.2ã€‹https://blog.csdn.net/weixin_46610458/article/details/119217108?utm_source=app&amp;app_version=5.2.0
ã€Šlinux : ubuntu å®‰è£…vscodeä¸é…ç½®ã€‹https://blog.csdn.net/sunzhanl/article/details/121302343?utm_source=app&amp;app_version=5.2.0
ã€ŠROS-æ‰‹åŠ¿æ§åˆ¶å°æµ·é¾Ÿç§»åŠ¨ã€‹https://blog.csdn.net/weixin_39591533/article/details/120949657?utm_source=app&amp;app_version=5.2.0
ã€Šros melodicä¸­c++ä¸python3é€šä¿¡ã€‹https://blog.csdn.net/weixin_46813375/article/details/121387975?utm_source=app&amp;app_version=5.2.0
ã€Šå®‡æ ‘æœºå™¨ç‹—å¼€å‘ï¼šç¯å¢ƒå®‰è£…åŠé‡åˆ°çš„ä¸€äº›é—®é¢˜ã€‹https://blog.csdn.net/BiLLyZzzzz/article/details/119936319?utm_source=app&amp;app_version=5.2.0</p>

</section>


    <footer class="article-footer">
    

    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

     
    
        
    <div class="disqus-container">
    
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2022 My New Hugo Site
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.12.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#å‰æœŸå‡†å¤‡">å‰æœŸå‡†å¤‡</a></li>
    <li><a href="#ç¯å¢ƒé…ç½®æ•™ç¨‹">ç¯å¢ƒé…ç½®æ•™ç¨‹</a>
      <ul>
        <li><a href="#21-ros_to_realåŒ…ä»¥åŠsdkçš„ç¼–è¯‘å®‰è£…">2.1 ROS_to_RealåŒ…ä»¥åŠSDKçš„ç¼–è¯‘å®‰è£…</a></li>
        <li><a href="#22-vscodeå®‰è£…ä»¥åŠroså¼€å‘ç¯å¢ƒçš„é…ç½®">2.2 VScodeå®‰è£…ä»¥åŠROSå¼€å‘ç¯å¢ƒçš„é…ç½®</a></li>
        <li><a href="#24-python-è™šæ‹Ÿç¯å¢ƒé…ç½®">2.4 Python è™šæ‹Ÿç¯å¢ƒé…ç½®</a></li>
        <li><a href="#25-mediapipeä¸opencvçš„å®‰è£…">2.5 Mediapipeä¸Opencvçš„å®‰è£…</a></li>
        <li><a href="#26-è¿œç¨‹æ¡Œé¢é“¾æ¥">2.6 è¿œç¨‹æ¡Œé¢é“¾æ¥</a></li>
        <li><a href="#å…³é”®ä»£ç ">å…³é”®ä»£ç </a></li>
      </ul>
    </li>
  </ul>
</nav>
        </div>
    </section>

            
        
    </aside>


        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
